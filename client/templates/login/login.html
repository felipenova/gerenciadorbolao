<template name="override_loginButtonsLoggedOutDropdown">
  <div class="login-link-and-dropdown-list {{additionalClasses}}">
    {{#if dropdownVisible}}
    {{! This text is covered by the dropdown, but duplicating it here
    makes the position of "Close" match the position of this text. }}
    <a class="login-link-text" id="login-sign-in-link">Login ▾</a>
    <div id="login-dropdown-list" class="accounts-dialog">
      <a class="login-close-text">Close</a>
      {{#if loggingIn}}
      {{> _loginButtonsLoggingIn}}
      {{/if}}
      <div class="login-close-text-clear"></div>
      {{> _loginButtonsLoggedOutAllServices}}
    </div>
    {{else}}
    {{#if loggingIn}}
    {{! Not normally visible, but if the user closes the dropdown during login.}}
    {{> _loginButtonsLoggingIn}}
    {{else}}
    <a class="login-link-text" id="login-sign-in-link">Login ▾</a>
    {{/if}}
    {{/if}}
  </div>
</template>

<template name="override_loginButtonsLoggedInDropdown">
  <div class="login-link-and-dropdown-list">
    <a class="login-link-text" id="login-name-link">
      {{> avatar user=currentUser shape="circle"}} 
    </a>

    {{#if dropdownVisible}}
    <div id="login-dropdown-list" class="accounts-dialog">
      <a class="login-close-text">Close</a>
      <div class="login-close-text-clear"></div>

      {{#if inMessageOnlyFlow}}
      {{> _loginButtonsMessages}}
      {{else}}
      {{#if inChangePasswordFlow}}
      {{> _loginButtonsChangePassword}}
      {{else}}
      {{> _loginButtonsLoggedInDropdownActions}}
      {{/if}}
      {{/if}}
    </div>
    {{/if}}
  </div>
</template>
